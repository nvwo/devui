(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"1sFX":function(t,e,n){"use strict";n.d(e,"a",(function(){return a.a}));var a=n("8EcV")},"5e1b":function(t,e,n){"use strict";n.r(e),e.default="import { Component, OnInit, ViewChild, ElementRef, AfterViewInit, OnDestroy } from '@angular/core';\nimport { treeDataSource, SourceType } from '../mock-data';\nimport { GanttScaleUnit, GanttMilestone, GanttTaskInfo } from 'ng-devui/gantt';\nimport { GanttService } from 'ng-devui/gantt';\nimport { ColumnResizeEventArg, ColumnAdjustStrategy } from 'ng-devui/data-table';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'd-table-gantt',\n  templateUrl: './table.component.html',\n  styleUrls: ['./table.component.scss'],\n  providers: [GanttService]\n})\nexport class TableComponent implements OnInit, AfterViewInit, OnDestroy {\n  basicDataSource: Array<SourceType> = treeDataSource;\n  @ViewChild('datatable', { read: ElementRef, static: true }) datatableElementRef: ElementRef;\n  ganttScaleWidth: string;\n  ganttBarContainerElement: Element;\n  resizeHandleContainerElement: Element;\n  ganttScaleContainerOffsetLeft: number;\n  ganttStartDate: Date;\n  ganttEndDate: Date;\n  unit = GanttScaleUnit.day;\n  milestoneList: GanttMilestone[];\n  ganttSacleConfigHandler: Subscription;\n  originOffsetLeft: number;\n  columnAdjustStrategy = ColumnAdjustStrategy.mousemove;\n  tableScrollLeft = 0;\n  constructor(private ganttService: GanttService) { }\n  tableWidthConfig = [\n    {\n      field: 'title',\n      width: '200px'\n    },\n    {\n      field: 'name',\n      width: '100px'\n    },\n    {\n      field: 'status',\n      width: '100px'\n    },\n    {\n      field: 'gantt',\n      width: null\n    }\n  ];\n\n\n\n  ngOnInit() {\n    const curDate = new Date();\n    this.ganttStartDate = new Date(curDate.getFullYear(), 4, 1);\n    this.ganttEndDate = new Date(curDate.getFullYear(), 10, 15);\n    this.ganttService.setScaleConfig({\n      startDate: this.ganttStartDate,\n      endDate: this.ganttEndDate,\n      unit: this.unit\n    });\n    this.ganttScaleWidth = this.ganttService.getDurationWidth(this.ganttStartDate, this.ganttEndDate) + 'px';\n    this.tableWidthConfig[3].width = this.ganttScaleWidth;\n    const milestone = {\n      date: new Date(2020, 1, 8),\n      lable: 'V1.2'\n    };\n    this.milestoneList = [];\n    this.milestoneList.push(milestone);\n\n    this.ganttSacleConfigHandler = this.ganttService.ganttScaleConfigChange.subscribe((config) => {\n      if (config.startDate) {\n        this.ganttStartDate = config.startDate;\n      }\n      if (config.endDate) {\n        this.ganttEndDate = config.endDate;\n      }\n      if (config.startDate || config.endDate) {\n        this.ganttScaleWidth = this.ganttService.getDurationWidth(this.ganttStartDate, this.ganttEndDate) + 'px';\n        this.tableWidthConfig[3].width = this.ganttScaleWidth;\n      }\n    });\n  }\n\n  ngAfterViewInit() {\n    setTimeout(() => {\n      if (this.datatableElementRef.nativeElement) {\n        this.ganttBarContainerElement = this.datatableElementRef.nativeElement.getElementsByTagName('table')[1];\n        this.resizeHandleContainerElement = this.datatableElementRef.nativeElement.getElementsByClassName('devui-table-view')[0];\n        this.ganttScaleContainerOffsetLeft = this.datatableElementRef.nativeElement.getElementsByTagName('th')[3].offsetLeft;\n      }\n    });\n  }\n\n  goToday() {\n    const today = new Date();\n    const offset = this.ganttService.getDatePostionOffset(today);\n    const scrollView = this.datatableElementRef.nativeElement.getElementsByClassName('scroll-view')[0];\n    if (scrollView) {\n      scrollView.scrollTo(offset, scrollView.scrollTop);\n    }\n  }\n\n  onTableResize(event: ColumnResizeEventArg) {\n    if (this.datatableElementRef.nativeElement) {\n      this.ganttScaleContainerOffsetLeft = this.datatableElementRef.nativeElement.getElementsByTagName('th')[3].offsetLeft;\n    }\n  }\n\n  increaseUnit() {\n    if (this.unit === GanttScaleUnit.month) {\n      return;\n    }\n    if (this.unit === GanttScaleUnit.week) {\n      this.unit = GanttScaleUnit.month;\n    }\n    if (this.unit === GanttScaleUnit.day) {\n      this.unit = GanttScaleUnit.week;\n    }\n    this.ganttService.setScaleConfig({ unit: this.unit });\n    this.ganttScaleWidth = this.ganttService.getDurationWidth(this.ganttStartDate, this.ganttEndDate) + 'px';\n    this.tableWidthConfig[3].width = this.ganttScaleWidth;\n  }\n\n  reduceUnit() {\n    if (this.unit === GanttScaleUnit.day) {\n      return;\n    }\n    if (this.unit === GanttScaleUnit.week) {\n      this.unit = GanttScaleUnit.day;\n    }\n    if (this.unit === GanttScaleUnit.month) {\n      this.unit = GanttScaleUnit.week;\n    }\n    this.ganttService.setScaleConfig({ unit: this.unit });\n    this.ganttScaleWidth = this.ganttService.getDurationWidth(this.ganttStartDate, this.ganttEndDate) + 'px';\n    this.tableWidthConfig[3].width = this.ganttScaleWidth;\n  }\n\n  onGanttBarMoveStart() {\n    this.originOffsetLeft = this.tableScrollLeft;\n  }\n\n  onGanttBarMoving(info: GanttTaskInfo) {\n    this.adjustScrollView(info);\n  }\n\n  onGanttBarResizeStart() {\n    this.originOffsetLeft = this.tableScrollLeft;\n  }\n\n  onGanttBarResizing(info: GanttTaskInfo) {\n    this.adjustScrollView(info);\n  }\n\n  adjustScrollView(info: GanttTaskInfo) {\n    const moveOffset = info.moveOffset ? info.moveOffset : 0;\n    const scrollView = this.datatableElementRef.nativeElement.getElementsByClassName('scroll-view')[0];\n    if (scrollView) {\n      scrollView.scrollTo(this.originOffsetLeft + moveOffset, scrollView.scrollTop);\n    }\n  }\n\n  onGanttBarMove(info: GanttTaskInfo) {\n    this.updateData(info);\n  }\n\n  onGanttBarResize(info: GanttTaskInfo) {\n    this.updateData(info);\n  }\n\n  updateData(info: GanttTaskInfo) {\n    const index = this.basicDataSource.findIndex((data) => {\n      return data.id === info.id;\n    });\n    if (index > -1) {\n      this.basicDataSource[index].startDate = info.startDate;\n      this.basicDataSource[index].endDate = info.endDate;\n    }\n  }\n\n  onBarProgressEvent(progress: number) {\n    console.log(progress);\n  }\n\n  onTableScroll(event: Event) {\n    const target = <HTMLElement>event.target;\n    this.tableScrollLeft = target.scrollLeft;\n  }\n\n  onResizeStart(event) {\n    console.log(event);\n  }\n\n  onResizing(event) {\n    console.log(event);\n  }\n\n  onResized(event) {\n    const finalWidth = event.width + 'px';\n    this.tableWidthConfig[2].width = finalWidth;\n    setTimeout(() => {\n      this.ganttScaleContainerOffsetLeft = this.datatableElementRef.nativeElement.getElementsByTagName('th')[3].offsetLeft;\n    });\n  }\n\n  ngOnDestroy() {\n    if (this.ganttSacleConfigHandler) {\n      this.ganttSacleConfigHandler.unsubscribe();\n      this.ganttSacleConfigHandler = null;\n    }\n  }\n}\n"},"73rY":function(t,e,n){"use strict";n.r(e),e.default="@import '~ng-devui/styles-var/devui-var.scss';\n\n.gantt-container {\n  overflow: scroll;\n\n  .header {\n    position: relative;\n    border-bottom: 1px solid $devui-dividing-line;\n  }\n\n  .body {\n    position: relative;\n    min-height: 400px;\n\n    .item {\n      height: 40px;\n      padding-top: 8px;\n    }\n  }\n}\n\n::ng-deep .devui-gantt-tips {\n  & .title {\n    font-size: $devui-font-size-card-title;\n    color: $devui-text;\n    line-height: 24px;\n    font-weight: bold;\n    margin-bottom: 15px;\n  }\n\n  & .content {\n    font-size: $devui-font-size;\n    color: $devui-text;\n    line-height: 24px;\n  }\n}\n"},JG5r:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n("ofXK"),i=n("N/fn"),r=n("GyeE"),o=n("fXoL");let s=(()=>{class t{}return t.\u0275mod=o.Mb({type:t}),t.\u0275inj=o.Lb({factory:function(e){return new(e||t)},imports:[[a.c,i.b,r.e],i.b,r.e]}),t})()},JQHl:function(t,e,n){"use strict";n.r(e),e.default=".reset-btn {\n  position: absolute;\n  right: 0;\n  top: 2px;\n  width: 20px;\n  height: 20px;\n  line-height: 19px;\n  text-align: center;\n  cursor: pointer;\n  z-index: 2;\n}\n"},Jvfo:function(t,e,n){"use strict";n.r(e),n.d(e,"GanttDemoModule",(function(){return B}));var a=n("ofXK"),i=n("fXoL"),r=n("GyeE"),o=n("Wxmp"),s=n("E2zr");const l=[{id:"1",title:"title1",startDate:new Date(2020,4,5),endDate:new Date(2020,4,10),progressRate:30},{id:"2",title:"title2",startDate:new Date(2020,4,6),endDate:new Date(2020,4,9),progressRate:30},{id:"3",title:"title3",startDate:new Date(2020,4,10),endDate:new Date(2020,4,12),progressRate:30},{id:"4",title:"title4",startDate:new Date(2020,4,7),endDate:new Date(2020,4,10),progressRate:30},{id:"5",title:"title5",startDate:new Date(2020,4,8),endDate:new Date(2020,4,12),progressRate:30}],d=[{id:"1",title:"table title0",lastName:"Mark",status:"done",startDate:new Date(2020,4,5),endDate:new Date(2020,4,10),ganttType:"parentProgress",$isChildTableOpen:!0,progressRate:30,progressDisabled:!0,children:[{id:"2",title:"table title01",lastName:"Mark",status:"done",startDate:new Date(2020,4,5),endDate:new Date(2020,4,10),ganttType:"progress",progressRate:30,$isChildTableOpen:!0}]},{id:"6",title:"table title1",lastName:"Mark",status:"done",startDate:new Date(2020,4,4),endDate:new Date(2020,4,8),ganttType:"progress"},{id:"7",title:"table title2",lastName:"Mark",status:"done",startDate:new Date(2020,4,6),endDate:new Date(2020,4,9),ganttType:"progress"},{id:"8",title:"table title3",lastName:"Mark",status:"done",detail:"\u8fd9\u662f\u4e00\u4e2a\u884c\u8be6\u60c5",startDate:new Date(2020,4,7),endDate:new Date(2020,4,10),ganttType:"progress"},{id:"9",title:"\u91cc\u7a0b\u7891",ganttType:"milestone",lastName:"Mark",status:"done",startDate:new Date(2020,4,10),endDate:new Date(2020,4,10)},{id:"10",title:"table title4",lastName:"Mark",status:"done",ganttType:"progress",startDate:new Date(2020,5,1),endDate:new Date(2020,5,3)}];var c=n("I+jX"),g=n("y3OK");const f=["ganttContainer"];function h(t,e){if(1&t){const t=i.Vb();i.Ub(0,"div",8),i.Ub(1,"d-gantt-bar",9),i.cc("barMoveStartEvent",(function(e){return i.Cc(t),i.gc().onGanttBarMoveStart(e)}))("barMovingEvent",(function(e){return i.Cc(t),i.gc().onGanttBarMoving(e)}))("barResizeStartEvent",(function(e){return i.Cc(t),i.gc().onGanttBarResizeStart(e)}))("barResizingEvent",(function(e){return i.Cc(t),i.gc().onGanttBarResizing(e)}))("barMoveEndEvent",(function(e){return i.Cc(t),i.gc().onGanttBarMove(e)}))("barResizeEndEvent",(function(e){return i.Cc(t),i.gc().onGanttBarResize(e)}))("barProgressEvent",(function(e){return i.Cc(t),i.gc().onBarProgressEvent(e)})),i.Tb(),i.Tb()}if(2&t){const t=e.$implicit;i.gc();const n=i.zc(8);i.zb(1),i.nc("startDate",null==t?null:t.startDate)("endDate",null==t?null:t.endDate)("tipTemplateRef",n)("id",null==t?null:t.id)("progressRate",null==t?null:t.progressRate)}}function b(t,e){if(1&t&&(i.Ub(0,"div",10),i.Nc(1),i.Tb(),i.Ub(2,"div",11),i.Ub(3,"div"),i.Nc(4),i.Tb(),i.Ub(5,"div"),i.Nc(6),i.Tb(),i.Ub(7,"div"),i.Nc(8),i.hc(9,"i18nDate"),i.Tb(),i.Ub(10,"div"),i.Nc(11),i.hc(12,"i18nDate"),i.Tb(),i.Tb()),2&t){const t=e.ganttInstance,n=e.data;i.zb(1),i.Oc(null==n?null:n.title),i.zb(3),i.Pc("\u6301\u7eed\u65f6\u95f4\uff1a",null==t?null:t.duration,""),i.zb(2),i.Pc("\u5f53\u524d\u8fdb\u5ea6\uff1a",((null==t?null:t.progressRate)||0)+"%",""),i.zb(2),i.Pc("\u5f00\u59cb\u65f6\u95f4\uff1a",i.jc(9,5,null==t?null:t.startDate,"short"),""),i.zb(3),i.Pc("\u7ed3\u675f\u65f6\u95f4\uff1a",i.jc(12,8,null==t?null:t.endDate,"short"),"")}}let p=(()=>{class t{constructor(t){this.ganttService=t,this.list=l,this.unit=c.f.day,this.originOffsetLeft=0}ngOnInit(){const t=new Date;this.ganttStartDate=new Date(t.getFullYear(),4,1),this.ganttEndDate=new Date(t.getFullYear(),10,15),this.ganttService.setScaleConfig({startDate:this.ganttStartDate,endDate:this.ganttEndDate,unit:this.unit}),this.ganttScaleWidth=this.ganttService.getDurationWidth(this.ganttStartDate,this.ganttEndDate)+"px",this.ganttSacleConfigHandler=this.ganttService.ganttScaleConfigChange.subscribe(t=>{t.startDate&&(this.ganttStartDate=t.startDate),t.endDate&&(this.ganttEndDate=t.endDate),(t.startDate||t.endDate)&&(this.ganttScaleWidth=this.ganttService.getDurationWidth(this.ganttStartDate,this.ganttEndDate)+"px")})}ngAfterViewInit(){this.scrollElement=this.ganttContainer.nativeElement}onGanttBarMoveStart(){this.originOffsetLeft=this.scrollElement.scrollLeft}onGanttBarMoving(t){this.adjustScrollView(t)}onGanttBarResizeStart(){this.originOffsetLeft=this.scrollElement.scrollLeft}onGanttBarResizing(t){this.adjustScrollView(t)}adjustScrollView(t){this.scrollElement.scrollTo(this.originOffsetLeft+(t.moveOffset?t.moveOffset:0),this.scrollElement.scrollTop)}onGanttBarMove(t){this.updateData(t)}onGanttBarResize(t){this.updateData(t)}updateData(t){const e=this.list.findIndex(e=>e.id===t.id);e>-1&&(this.list[e].startDate=t.startDate,this.list[e].endDate=t.endDate)}onBarProgressEvent(t){console.log(t)}ngOnDestroy(){this.ganttSacleConfigHandler&&(this.ganttSacleConfigHandler.unsubscribe(),this.ganttSacleConfigHandler=null)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(c.g))},t.\u0275cmp=i.Ib({type:t,selectors:[["d-basic"]],viewQuery:function(t,e){var n;1&t&&i.Hc(f,!0),2&t&&i.yc(n=i.dc())&&(e.ganttContainer=n.first)},features:[i.yb([c.g])],decls:9,vars:6,consts:[[1,"gantt-container"],["ganttContainer",""],[1,"header"],[3,"ganttBarContainerElement"],[1,"body"],["ganttBody",""],["class","item",4,"ngFor","ngForOf"],["tipTemplate",""],[1,"item"],[3,"startDate","endDate","tipTemplateRef","id","progressRate","barMoveStartEvent","barMovingEvent","barResizeStartEvent","barResizingEvent","barMoveEndEvent","barResizeEndEvent","barProgressEvent"],[1,"title"],[1,"content"]],template:function(t,e){if(1&t&&(i.Ub(0,"div",0,1),i.Ub(2,"div",2),i.Pb(3,"d-gantt-scale",3),i.Tb(),i.Ub(4,"div",4,5),i.Lc(6,h,2,5,"div",6),i.Tb(),i.Tb(),i.Lc(7,b,13,11,"ng-template",null,7,i.Mc)),2&t){const t=i.zc(5);i.zb(2),i.Ic("width",e.ganttScaleWidth),i.zb(1),i.nc("ganttBarContainerElement",t),i.zb(1),i.Ic("width",e.ganttScaleWidth),i.zb(2),i.nc("ngForOf",e.list)}},directives:[c.e,a.s,c.a],pipes:[g.a],styles:[".gantt-container[_ngcontent-%COMP%]{overflow:scroll}.gantt-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{position:relative;border-bottom:1px solid #dfe1e6;border-bottom:1px solid var(--devui-dividing-line,#dfe1e6)}.gantt-container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{position:relative;min-height:400px}.gantt-container[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{height:40px;padding-top:8px}  .devui-gantt-tips .title{font-size:14px;font-size:var(--devui-font-size-card-title,14px);color:#252b3a;color:var(--devui-text,#252b3a);line-height:24px;font-weight:700;margin-bottom:15px}  .devui-gantt-tips .content{font-size:12px;font-size:var(--devui-font-size,12px);color:#252b3a;color:var(--devui-text,#252b3a);line-height:24px}"]}),t})();var u=n("BIsJ");const m=function(t,e){return{"icon-arrow-right-o":t,"icon-arrow-left-o":e}};function v(t,e){if(1&t){const t=i.Vb();i.Ub(0,"div",1),i.cc("click",(function(){return i.Cc(t),i.gc().reset()})),i.Tb()}if(2&t){const t=i.gc();i.nc("ngClass",i.sc(1,m,"right"===t.direction,"left"===t.direction))}}let D=(()=>{class t{constructor(t){this.ganttService=t,this.visible=!1}ngOnInit(){}ngOnChanges(t){if((t.startDate||t.endDate||t.ganttScaleContainerOffsetLeft||t.containerScrollLeft)&&this.startDate&&this.endDate&&this.ganttScaleContainerOffsetLeft&&(this.scrollView=this.datatableElementRef.elementRef.nativeElement.getElementsByClassName("scroll-view")[0],this.scrollView)){this.position=this.ganttService.getDatePostionOffset(this.startDate);const t=this.ganttService.getDatePostionOffset(this.endDate);if(this.position+this.ganttScaleContainerOffsetLeft>this.scrollView.scrollLeft+this.scrollView.clientWidth)return this.visible=!0,void(this.direction="right");if(t<this.scrollView.scrollLeft)return this.visible=!0,void(this.direction="left");this.visible=!1}}reset(){this.scrollView&&(this.scrollView.scrollTo(this.position,0),this.visible=!1)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(c.g))},t.\u0275cmp=i.Ib({type:t,selectors:[["d-reset-position"]],inputs:{datatableElementRef:"datatableElementRef",ganttScaleContainerOffsetLeft:"ganttScaleContainerOffsetLeft",startDate:"startDate",endDate:"endDate",containerScrollLeft:"containerScrollLeft"},features:[i.xb],decls:1,vars:1,consts:[["class","reset-btn",3,"ngClass","click",4,"ngIf"],[1,"reset-btn",3,"ngClass","click"]],template:function(t,e){1&t&&i.Lc(0,v,1,4,"div",0),2&t&&i.nc("ngIf",e.visible)},directives:[a.t,a.q],styles:[".reset-btn[_ngcontent-%COMP%]{position:absolute;right:0;top:2px;width:20px;height:20px;line-height:19px;text-align:center;cursor:pointer;z-index:2}"]}),t})();const S=["datatable"];function w(t,e){if(1&t&&(i.Ub(0,"span"),i.Nc(1),i.Tb()),2&t){const t=i.gc().rowItem;i.zb(1),i.Oc(t.title)}}function E(t,e){1&t&&(i.Ub(0,"span",27),i.Ub(1,"span",28),i.fc(),i.Ub(2,"svg",29),i.Ub(3,"defs"),i.Ub(4,"linearGradient",30),i.Pb(5,"stop",31),i.Pb(6,"stop",32),i.Tb(),i.Pb(7,"path",33),i.Ub(8,"linearGradient",34),i.Pb(9,"stop",35),i.Pb(10,"stop",36),i.Tb(),i.Ub(11,"linearGradient",37),i.Pb(12,"stop",35),i.Pb(13,"stop",36),i.Tb(),i.Ub(14,"linearGradient",38),i.Pb(15,"stop",35),i.Pb(16,"stop",36),i.Tb(),i.Ub(17,"linearGradient",39),i.Pb(18,"stop",35),i.Pb(19,"stop",36),i.Tb(),i.Ub(20,"linearGradient",40),i.Pb(21,"stop",35),i.Pb(22,"stop",36),i.Tb(),i.Ub(23,"linearGradient",41),i.Pb(24,"stop",42),i.Pb(25,"stop",43),i.Tb(),i.Ub(26,"filter",44),i.Pb(27,"feGaussianBlur",45),i.Tb(),i.Ub(28,"linearGradient",46),i.Pb(29,"stop",47),i.Pb(30,"stop",48),i.Tb(),i.Ub(31,"linearGradient",49),i.Pb(32,"stop",50),i.Pb(33,"stop",51),i.Tb(),i.Tb(),i.Ub(34,"g",52),i.Ub(35,"g",53),i.Ub(36,"g",54),i.Ub(37,"g",55),i.Ub(38,"mask",56),i.Pb(39,"use",57),i.Tb(),i.Pb(40,"use",58),i.Pb(41,"polygon",59),i.Pb(42,"polygon",60),i.Pb(43,"polygon",61),i.Pb(44,"polygon",62),i.Pb(45,"polygon",63),i.Pb(46,"ellipse",64),i.Pb(47,"polygon",65),i.Pb(48,"polygon",66),i.Pb(49,"polygon",67),i.Pb(50,"polygon",68),i.Pb(51,"rect",69),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.Tb(),i.ec(),i.Ub(52,"span"),i.Nc(53,"\u91cc\u7a0b\u7891"),i.Tb(),i.Tb())}function x(t,e){if(1&t){const t=i.Vb();i.Ub(0,"d-gantt-bar",70),i.cc("barMoveStartEvent",(function(e){return i.Cc(t),i.gc(2).onGanttBarMoveStart(e)}))("barMovingEvent",(function(e){return i.Cc(t),i.gc(2).onGanttBarMoving(e)}))("barResizeStartEvent",(function(e){return i.Cc(t),i.gc(2).onGanttBarResizeStart(e)}))("barResizingEvent",(function(e){return i.Cc(t),i.gc(2).onGanttBarResizing(e)}))("barMoveEndEvent",(function(e){return i.Cc(t),i.gc(2).onGanttBarMove(e)}))("barResizeEndEvent",(function(e){return i.Cc(t),i.gc(2).onGanttBarResize(e)}))("barProgressEvent",(function(e){return i.Cc(t),i.gc(2).onBarProgressEvent(e)})),i.Tb()}if(2&t){const t=i.gc().rowItem;i.gc();const e=i.zc(23);i.nc("startDate",null==t?null:t.startDate)("endDate",null==t?null:t.endDate)("tipTemplateRef",e)("id",null==t?null:t.id)("data",t)("barMoveDisabled",null==t?null:t.barMoveDisabled)("barResizeDisabled",null==t?null:t.barResizeDisabled)("progressDisabled",null==t?null:t.progressDisabled)("progressRate",null==t?null:t.progressRate)}}function C(t,e){if(1&t&&i.Pb(0,"d-gantt-bar-parent",71),2&t){const t=i.gc().rowItem;i.nc("id",null==t?null:t.id)("startDate",null==t?null:t.startDate)("endDate",null==t?null:t.endDate)("data",t)("progressRate",null==t?null:t.progressRate)}}function y(t,e){if(1&t&&i.Pb(0,"d-gantt-milestone",72),2&t){const t=i.gc().rowItem;i.nc("startDate",null==t?null:t.startDate)("title",null==t?null:t.title)}}function T(t,e){if(1&t){const t=i.Vb();i.Ub(0,"tr",8),i.Ub(1,"td",16),i.Lc(2,w,2,1,"span",17),i.Lc(3,E,54,0,"span",18),i.Tb(),i.Ub(4,"td",19),i.Nc(5),i.Tb(),i.Ub(6,"td",20),i.cc("resizeStartEvent",(function(e){return i.Cc(t),i.gc().onResizeStart(e)}))("resizingEvent",(function(e){return i.Cc(t),i.gc().onResizing(e)}))("resizeEndEvent",(function(e){return i.Cc(t),i.gc().onResized(e)})),i.Ub(7,"div",21),i.Pb(8,"d-reset-position",22),i.Nc(9),i.Tb(),i.Tb(),i.Ub(10,"td",23),i.Lc(11,x,1,9,"d-gantt-bar",24),i.Lc(12,C,1,5,"d-gantt-bar-parent",25),i.Lc(13,y,1,2,"d-gantt-milestone",26),i.Tb(),i.Tb()}if(2&t){const t=e.rowItem,n=e.nestedLayer,a=i.gc(),r=i.zc(9);i.Ic("height","40px"),i.zb(1),i.nc("fixedLeft","0")("nestedColumn",!0)("rowItem",t)("nestedLayer",n),i.zb(1),i.nc("ngIf","progress"===t.ganttType||"parentProgress"===t.ganttType),i.zb(1),i.nc("ngIf","milestone"===t.ganttType),i.zb(1),i.nc("fixedLeft","200px"),i.zb(1),i.Oc(t.lastName),i.zb(1),i.nc("fixedLeft","300px")("containerElement",a.resizeHandleContainerElement),i.zb(2),i.nc("ganttScaleContainerOffsetLeft",a.ganttScaleContainerOffsetLeft)("datatableElementRef",r)("startDate",null==t?null:t.startDate)("endDate",null==t?null:t.endDate)("containerScrollLeft",a.tableScrollLeft),i.zb(1),i.Pc(" ",t.status," "),i.zb(2),i.nc("ngIf","progress"===(null==t?null:t.ganttType)),i.zb(1),i.nc("ngIf","parentProgress"===(null==t?null:t.ganttType)),i.zb(1),i.nc("ngIf","milestone"===(null==t?null:t.ganttType))}}function z(t,e){if(1&t&&(i.Ub(0,"div",73),i.Nc(1),i.Tb(),i.Ub(2,"div",74),i.Ub(3,"div"),i.Nc(4),i.Tb(),i.Ub(5,"div"),i.Nc(6),i.Tb(),i.Ub(7,"div"),i.Nc(8),i.hc(9,"i18nDate"),i.Tb(),i.Ub(10,"div"),i.Nc(11),i.hc(12,"i18nDate"),i.Tb(),i.Tb()),2&t){const t=e.ganttInstance,n=e.data;i.zb(1),i.Oc(null==n?null:n.title),i.zb(3),i.Pc("\u6301\u7eed\u65f6\u95f4\uff1a",null==t?null:t.duration,""),i.zb(2),i.Pc("\u5f53\u524d\u8fdb\u5ea6\uff1a",((null==t?null:t.progressRate)||0)+"%",""),i.zb(2),i.Pc("\u5f00\u59cb\u65f6\u95f4\uff1a",i.jc(9,5,null==t?null:t.startDate,"short"),""),i.zb(3),i.Pc("\u7ed3\u675f\u65f6\u95f4\uff1a",i.jc(12,8,null==t?null:t.endDate,"short"),"")}}function R(t,e){if(1&t){const t=i.Vb();i.Ub(0,"tr",75),i.Pb(1,"td",19),i.Pb(2,"td",19),i.Ub(3,"td",20),i.cc("resizeStartEvent",(function(e){return i.Cc(t),i.gc().onResizeStart(e)}))("resizingEvent",(function(e){return i.Cc(t),i.gc().onResizing(e)}))("resizeEndEvent",(function(e){return i.Cc(t),i.gc().onResized(e)})),i.Tb(),i.Pb(4,"td",23),i.Tb()}if(2&t){const t=i.gc();i.zb(1),i.nc("fixedLeft","0"),i.zb(1),i.nc("fixedLeft","200px"),i.zb(1),i.nc("fixedLeft","300px")("containerElement",t.resizeHandleContainerElement)}}let G=(()=>{class t{constructor(t){this.ganttService=t,this.basicDataSource=d,this.unit=c.f.day,this.columnAdjustStrategy=u.a.mousemove,this.tableScrollLeft=0,this.tableWidthConfig=[{field:"title",width:"200px"},{field:"name",width:"100px"},{field:"status",width:"100px"},{field:"gantt",width:null}]}ngOnInit(){const t=new Date;this.ganttStartDate=new Date(t.getFullYear(),4,1),this.ganttEndDate=new Date(t.getFullYear(),10,15),this.ganttService.setScaleConfig({startDate:this.ganttStartDate,endDate:this.ganttEndDate,unit:this.unit}),this.ganttScaleWidth=this.ganttService.getDurationWidth(this.ganttStartDate,this.ganttEndDate)+"px",this.tableWidthConfig[3].width=this.ganttScaleWidth;const e={date:new Date(2020,1,8),lable:"V1.2"};this.milestoneList=[],this.milestoneList.push(e),this.ganttSacleConfigHandler=this.ganttService.ganttScaleConfigChange.subscribe(t=>{t.startDate&&(this.ganttStartDate=t.startDate),t.endDate&&(this.ganttEndDate=t.endDate),(t.startDate||t.endDate)&&(this.ganttScaleWidth=this.ganttService.getDurationWidth(this.ganttStartDate,this.ganttEndDate)+"px",this.tableWidthConfig[3].width=this.ganttScaleWidth)})}ngAfterViewInit(){setTimeout(()=>{this.datatableElementRef.nativeElement&&(this.ganttBarContainerElement=this.datatableElementRef.nativeElement.getElementsByTagName("table")[1],this.resizeHandleContainerElement=this.datatableElementRef.nativeElement.getElementsByClassName("devui-table-view")[0],this.ganttScaleContainerOffsetLeft=this.datatableElementRef.nativeElement.getElementsByTagName("th")[3].offsetLeft)})}goToday(){const t=new Date,e=this.ganttService.getDatePostionOffset(t),n=this.datatableElementRef.nativeElement.getElementsByClassName("scroll-view")[0];n&&n.scrollTo(e,n.scrollTop)}onTableResize(t){this.datatableElementRef.nativeElement&&(this.ganttScaleContainerOffsetLeft=this.datatableElementRef.nativeElement.getElementsByTagName("th")[3].offsetLeft)}increaseUnit(){this.unit!==c.f.month&&(this.unit===c.f.week&&(this.unit=c.f.month),this.unit===c.f.day&&(this.unit=c.f.week),this.ganttService.setScaleConfig({unit:this.unit}),this.ganttScaleWidth=this.ganttService.getDurationWidth(this.ganttStartDate,this.ganttEndDate)+"px",this.tableWidthConfig[3].width=this.ganttScaleWidth)}reduceUnit(){this.unit!==c.f.day&&(this.unit===c.f.week&&(this.unit=c.f.day),this.unit===c.f.month&&(this.unit=c.f.week),this.ganttService.setScaleConfig({unit:this.unit}),this.ganttScaleWidth=this.ganttService.getDurationWidth(this.ganttStartDate,this.ganttEndDate)+"px",this.tableWidthConfig[3].width=this.ganttScaleWidth)}onGanttBarMoveStart(){this.originOffsetLeft=this.tableScrollLeft}onGanttBarMoving(t){this.adjustScrollView(t)}onGanttBarResizeStart(){this.originOffsetLeft=this.tableScrollLeft}onGanttBarResizing(t){this.adjustScrollView(t)}adjustScrollView(t){const e=t.moveOffset?t.moveOffset:0,n=this.datatableElementRef.nativeElement.getElementsByClassName("scroll-view")[0];n&&n.scrollTo(this.originOffsetLeft+e,n.scrollTop)}onGanttBarMove(t){this.updateData(t)}onGanttBarResize(t){this.updateData(t)}updateData(t){const e=this.basicDataSource.findIndex(e=>e.id===t.id);e>-1&&(this.basicDataSource[e].startDate=t.startDate,this.basicDataSource[e].endDate=t.endDate)}onBarProgressEvent(t){console.log(t)}onTableScroll(t){this.tableScrollLeft=t.target.scrollLeft}onResizeStart(t){console.log(t)}onResizing(t){console.log(t)}onResized(t){this.tableWidthConfig[2].width=t.width+"px",setTimeout(()=>{this.ganttScaleContainerOffsetLeft=this.datatableElementRef.nativeElement.getElementsByTagName("th")[3].offsetLeft})}ngOnDestroy(){this.ganttSacleConfigHandler&&(this.ganttSacleConfigHandler.unsubscribe(),this.ganttSacleConfigHandler=null)}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(c.g))},t.\u0275cmp=i.Ib({type:t,selectors:[["d-table-gantt"]],viewQuery:function(t,e){var n;1&t&&i.Hc(S,!0,i.l),2&t&&i.yc(n=i.dc())&&(e.datatableElementRef=n.first)},features:[i.yb([c.g])],decls:26,vars:14,consts:[[1,"handler"],[1,"b-group"],[3,"click"],[1,"icon-add",3,"click"],[1,"icon-minus",3,"click"],["minHeight","600px",3,"borderType","cssClass","fixHeader","dataSource","scrollable","tableWidthConfig","tableScrollEvent"],["datatable",""],["dTableHead",""],["dTableRow",""],["dHeadCell","",3,"fixedLeft"],["dHeadCell","","dResizeHandle","",3,"fixedLeft","containerElement","resizeStartEvent","resizingEvent","resizeEndEvent"],["dHeadCell",""],[3,"milestoneList","ganttScaleContainerOffsetLeft","ganttBarContainerElement"],["dTableBody","",3,"minHeightStretchRow"],["tipTemplate",""],["minHeightStretchRow",""],["dTableCell","",3,"fixedLeft","nestedColumn","rowItem","nestedLayer"],[4,"ngIf"],["class","devui-gantt-milestone",4,"ngIf"],["dTableCell","",3,"fixedLeft"],["dTableCell","","dResizeHandle","",3,"fixedLeft","containerElement","resizeStartEvent","resizingEvent","resizeEndEvent"],[1,"reset-position-container"],[1,"reset-position",3,"ganttScaleContainerOffsetLeft","datatableElementRef","startDate","endDate","containerScrollLeft"],["dTableCell",""],[3,"startDate","endDate","tipTemplateRef","id","data","barMoveDisabled","barResizeDisabled","progressDisabled","progressRate","barMoveStartEvent","barMovingEvent","barResizeStartEvent","barResizingEvent","barMoveEndEvent","barResizeEndEvent","barProgressEvent",4,"ngIf"],[3,"id","startDate","endDate","data","progressRate",4,"ngIf"],[3,"startDate","title",4,"ngIf"],[1,"devui-gantt-milestone"],[1,"icon"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","22px","height","24px","viewBox","0 0 22 24","version","1.1"],["x1","50%","y1","6.72700158%","x2","50%","y2","91.2568893%","id","gantt-linearGradient-1"],["stop-color","#3DCCA6","offset","0%"],["stop-color","#2AA7AF","offset","100%"],["d","M14,1.15470054 L20.3923048,4.84529946 C21.6299092,5.55983064 22.3923048,6.88033872 22.3923048,8.30940108 L22.3923048,15.6905989 C22.3923048,17.1196613 21.6299092,18.4401694 20.3923048,19.1547005 L14,22.8452995 C12.7623957,23.5598306 11.2376043,23.5598306 10,22.8452995 L3.60769515,19.1547005 C2.37009085,18.4401694 1.60769515,17.1196613 1.60769515,15.6905989 L1.60769515,8.30940108 C1.60769515,6.88033872 2.37009085,5.55983064 3.60769515,4.84529946 L10,1.15470054 C11.2376043,0.440169359 12.7623957,0.440169359 14,1.15470054 Z","id","gantt-path-2"],["x1","50%","y1","0%","x2","50%","y2","50%","id","gantt-linearGradient-4"],["stop-color","#FFFFFF","offset","0%"],["stop-color","#FFFFFF","stop-opacity","0","offset","100%"],["x1","50%","y1","0%","x2","51.6276154%","y2","68.3310347%","id","gantt-linearGradient-5"],["x1","50%","y1","0%","x2","50%","y2","70.5804357%","id","gantt-linearGradient-6"],["x1","50%","y1","0%","x2","50%","y2","71.0876747%","id","gantt-linearGradient-7"],["x1","50%","y1","0%","x2","50%","y2","60.3844779%","id","gantt-linearGradient-8"],["x1","50%","y1","0%","x2","50%","y2","100%","id","gantt-linearGradient-9"],["stop-color","#FFFFFF","stop-opacity","0","offset","0%"],["stop-color","#FFFFFF","offset","100%"],["x","-25.0%","y","-75.0%","width","150.0%","height","250.0%","filterUnits","objectBoundingBox","id","gantt-filter-10"],["stdDeviation","1","in","SourceGraphic"],["x1","-33.9878453%","y1","3.1788779%","x2","67.7654261%","y2","81.2841156%","id","gantt-linearGradient-11"],["stop-color","#FF790E","offset","0%"],["stop-color","#FECC55","offset","100%"],["x1","71.1217155%","y1","42.8128234%","x2","17.9433277%","y2","-14.3609467%","id","gantt-linearGradient-12"],["stop-color","#FFE88E","offset","0%"],["stop-color","#FF790E","offset","100%"],["id","gantt-page-1","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["id","gantt-04fix","transform","translate(-189.000000, -423.000000)"],["id","gantt-Group-2","transform","translate(40.000000, 417.000000)"],["id","gant-group-4","transform","translate(148.000000, 6.000000)"],["id","gantt-mask-3","fill","white"],[0,"xlink","href","#gantt-path-2"],["id","gantt-men","fill","url(#gantt-linearGradient-1)",0,"xlink","href","#gantt-path-2"],["fill","url(#gantt-linearGradient-4)","opacity","0.200000003","mask","url(#gantt-mask-3)","points","10 0 14 0 13 13 11 13"],["fill","url(#gantt-linearGradient-5)","opacity","0.200000003","mask","url(#gantt-mask-3)","transform","translate(17.500000, 11.000000) rotate(-270.000000) translate(-17.500000, -11.000000) ","points","14.5 4.5 18.5 4.5 20.5 17.5 19.5 17.5"],["fill","url(#gantt-linearGradient-6)","opacity","0.200000003","mask","url(#gantt-mask-3)","transform","translate(7.000000, 11.000000) scale(-1, 1) rotate(-270.000000) translate(-7.000000, -11.000000) ","points","4 4.5 8 4.5 10 17.5 9 17.5"],["fill","url(#gantt-linearGradient-7)","opacity","0.200000003","mask","url(#gantt-mask-3)","transform","translate(8.110913, 8.110913) rotate(-45.000000) translate(-8.110913, -8.110913) ","points","6.1109127 1.6109127 10.1109127 1.6109127 9.1109127 14.6109127 7.1109127 14.6109127"],["fill","url(#gantt-linearGradient-8)","opacity","0.200000003","mask","url(#gantt-mask-3)","transform","translate(15.889087, 8.110913) rotate(-315.000000) translate(-15.889087, -8.110913) ","points","13.8890873 1.6109127 17.8890873 1.6109127 16.8890873 14.6109127 14.8890873 14.6109127"],["fill","url(#gantt-linearGradient-9)","opacity","0.5","filter","url(#filter-10)","mask","url(#gantt-mask-3)","cx","12","cy","17","rx","6","ry","2"],["fill","url(#gantt-linearGradient-11)","mask","url(#gantt-mask-3)","points","12 8 18 9 15 11 18 13 11 14"],["fill","url(#gantt-linearGradient-12)","mask","url(#gantt-mask-3)","points","10 6 14 7 13 13 9 13"],["fill","#FFE3A0","mask","url(#gantt-mask-3)","points","10 6 11 6 9 17 8 17"],["fill","#B4832C","mask","url(#gantt-mask-3)","points","13 13 11 14 11.1707479 13"],["fill","#000000","opacity","0.100000001","mask","url(#gantt-mask-3)","x","7","y","17","width","10","height","1"],[3,"startDate","endDate","tipTemplateRef","id","data","barMoveDisabled","barResizeDisabled","progressDisabled","progressRate","barMoveStartEvent","barMovingEvent","barResizeStartEvent","barResizingEvent","barMoveEndEvent","barResizeEndEvent","barProgressEvent"],[3,"id","startDate","endDate","data","progressRate"],[3,"startDate","title"],[1,"title"],[1,"content"],[1,"min-height-stretch-row"]],template:function(t,e){if(1&t&&(i.Ub(0,"div",0),i.Ub(1,"div",1),i.Ub(2,"div",2),i.cc("click",(function(){return e.goToday()})),i.Nc(3,"\u4eca\u5929"),i.Tb(),i.Tb(),i.Ub(4,"div",1),i.Ub(5,"div",3),i.cc("click",(function(){return e.reduceUnit()})),i.Tb(),i.Ub(6,"div",4),i.cc("click",(function(){return e.increaseUnit()})),i.Tb(),i.Tb(),i.Tb(),i.Ub(7,"section"),i.Ub(8,"d-data-table",5,6),i.cc("tableScrollEvent",(function(t){return e.onTableScroll(t)})),i.Ub(10,"thead",7),i.Ub(11,"tr",8),i.Ub(12,"th",9),i.Nc(13,"title"),i.Tb(),i.Ub(14,"th",9),i.Nc(15,"name"),i.Tb(),i.Ub(16,"th",10),i.cc("resizeStartEvent",(function(t){return e.onResizeStart(t)}))("resizingEvent",(function(t){return e.onResizing(t)}))("resizeEndEvent",(function(t){return e.onResized(t)})),i.Nc(17," status "),i.Tb(),i.Ub(18,"th",11),i.Pb(19,"d-gantt-scale",12),i.Tb(),i.Tb(),i.Tb(),i.Ub(20,"tbody",13),i.Lc(21,T,14,21,"ng-template"),i.Tb(),i.Tb(),i.Tb(),i.Lc(22,z,13,11,"ng-template",null,14,i.Mc),i.Lc(24,R,5,4,"ng-template",null,15,i.Mc)),2&t){const t=i.zc(25);i.zb(8),i.nc("borderType","borderless")("cssClass","devui-talbe-scorll-middle")("fixHeader",!0)("dataSource",e.basicDataSource)("scrollable",!0)("tableWidthConfig",e.tableWidthConfig),i.zb(4),i.nc("fixedLeft","0"),i.zb(2),i.nc("fixedLeft","200px"),i.zb(2),i.nc("fixedLeft","300px")("containerElement",e.resizeHandleContainerElement),i.zb(3),i.nc("milestoneList",e.milestoneList)("ganttScaleContainerOffsetLeft",e.ganttScaleContainerOffsetLeft)("ganttBarContainerElement",e.ganttBarContainerElement),i.zb(1),i.nc("minHeightStretchRow",t)}},directives:[u.e,u.l,u.m,u.k,c.h,c.e,u.i,u.j,a.t,D,c.a,c.b,c.c],pipes:[g.a],styles:[".handler[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;z-index:10}.b-group[_ngcontent-%COMP%]{margin-right:5px;display:inline-block;vertical-align:middle}.b-group[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;padding:0 8px;height:32px;min-width:32px;line-height:32px;background:#fff;background:var(--devui-base-bg,#fff);box-shadow:0 2px 10px 0 rgba(41,48,64,.1);border-radius:2px;cursor:pointer;text-align:center}.devui-gantt-milestone[_ngcontent-%COMP%]{height:24px;line-height:24px}.devui-gantt-milestone[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.devui-gantt-milestone[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:22px;height:24px;margin-right:5px}  .devui-gantt-tips .title{font-size:14px;font-size:var(--devui-font-size-card-title,14px);color:#252b3a;color:var(--devui-text,#252b3a);line-height:24px;font-weight:700;margin-bottom:15px}  .devui-gantt-tips .content{font-size:12px;font-size:var(--devui-font-size,12px);color:#252b3a;color:var(--devui-text,#252b3a);line-height:24px}.min-height-stretch-row[_ngcontent-%COMP%], .min-height-stretch-row[_ngcontent-%COMP%]:hover{background:#fff!important;background:var(--devui-base-bg,#fff)!important}.min-height-stretch-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0!important;border:unset!important}.reset-position-container[_ngcontent-%COMP%]{position:relative}.reset-position[_ngcontent-%COMP%]{visibility:hidden}tr[_ngcontent-%COMP%]:hover   .reset-position[_ngcontent-%COMP%]{visibility:visible}[_nghost-%COMP%]     .resize-handle{display:inline-block;position:absolute;left:0;top:0;bottom:0;width:3px;border-right:3px solid #adb0b8;border-right:3px solid var(--devui-line,#adb0b8);cursor:col-resize}"]}),t})();const L=function(){return{top:60,bottom:0}};let k=(()=>{class t{constructor(){this.basicSource=[{title:"HTML",language:"xml",code:n("PcXx")},{title:"TS",language:"typescript",code:n("uCxy")},{title:"SCSS",language:"css",code:n("73rY")},{title:"data",language:"typescript",code:n("V2Mc")}],this.inTableSource=[{title:"HTML",language:"xml",code:n("cnUO")},{title:"TS",language:"typescript",code:n("5e1b")},{title:"SCSS",language:"css",code:n("ipY+")},{title:"reset-position-HTML",language:"typescript",code:n("nPgX")},{title:"reset-position-TS",language:"xml",code:n("lFJM")},{title:"reset-position-CSS",language:"typescript",code:n("JQHl")},{title:"data",language:"typescript",code:n("V2Mc")}],this.navItems=[{dAnchorLink:"gantt-basic",value:"\u57fa\u672c\u7528\u6cd5"},{dAnchorLink:"gantt-in-datatable",value:"\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe"}]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ib({type:t,selectors:[["d-gantt-demo"]],decls:22,vars:7,consts:[["dAnchorBox","","dAnchorHashSupport","",1,"demo-container",3,"view"],[3,"navItems"],[1,"demo-example",3,"dAnchor"],[1,"demo-title"],[1,"demo-text"],[2,"list-style","inside"],["id","basic",3,"sourceData"],["demo",""],["id","inTable",3,"sourceData"]],template:function(t,e){1&t&&(i.Ub(0,"div",0),i.Pb(1,"d-demo-nav",1),i.Ub(2,"div",2),i.Ub(3,"div",3),i.Nc(4,"\u57fa\u672c\u7528\u6cd5"),i.Tb(),i.Ub(5,"div",4),i.Ub(6,"ul",5),i.Ub(7,"li"),i.Nc(8,"d-gantt-scale\uff08\u65f6\u95f4\u8f74\uff09\u5bb9\u5668\u4f5c\u4e3a\u65f6\u95f4\u8f74\u6807\u7ebf\u7684\u5b9a\u4f4d\u7236\u7ea7\u5143\u7d20\uff0c\u987b\u8bbe\u7f6eposition\u6216\u8005\u662ftable\u3001td\u3001th\u3001body\u5143\u7d20"),i.Tb(),i.Ub(9,"li"),i.Nc(10," d-gantt-scale\uff08\u65f6\u95f4\u8f74\uff09\u5bb9\u5668\u548cd-gantt-bar\uff08\u65f6\u95f4\u6761\uff09\u5bb9\u5668\u5bbd\u5ea6\u987b\u901a\u8fc7GanttService\u63d0\u4f9b\u7684\u65b9\u6cd5\u6839\u636e\u8d77\u6b62\u65f6\u95f4\u8ba1\u7b97\u540e\u8bbe\u7f6e\uff0c\u521d\u59cb\u5316\u4e4b\u540e\u8fd8\u987b\u8ba2\u9605ganttScaleConfigChange\u52a8\u6001\u8bbe\u7f6e "),i.Tb(),i.Ub(11,"li"),i.Nc(12," \u65f6\u95f4\u6761move\u3001resize\u4e8b\u4ef6\u4f1a\u6539\u53d8\u8be5\u65f6\u95f4\u6761\u8d77\u6b62\u65f6\u95f4\u548c\u65f6\u95f4\u8f74\u7684\u8d77\u6b62\u65f6\u95f4\uff0c\u8ba2\u9605\u65f6\u95f4\u6761resize\u3001move\u4e8b\u4ef6\u548cganttScaleConfigChange\u6765\u8bb0\u5f55\u53d8\u5316 "),i.Tb(),i.Ub(13,"li"),i.Nc(14,"\u54cd\u5e94\u65f6\u95f4\u6761move\u3001resize\u4e8b\u4ef6\u8c03\u6574\u6700\u5916\u5c42\u5bb9\u5668\u7684\u6eda\u52a8\u4ee5\u83b7\u5f97\u66f4\u597d\u7684\u4f53\u9a8c"),i.Tb(),i.Tb(),i.Tb(),i.Ub(15,"d-codebox",6),i.Pb(16,"d-basic",7),i.Tb(),i.Tb(),i.Ub(17,"div",2),i.Ub(18,"div",3),i.Nc(19,"\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe"),i.Tb(),i.Ub(20,"d-codebox",8),i.Pb(21,"d-table-gantt",7),i.Tb(),i.Tb(),i.Tb()),2&t&&(i.nc("view",i.qc(6,L)),i.zb(1),i.nc("navItems",e.navItems),i.zb(1),i.nc("dAnchor","gantt-basic"),i.zb(13),i.nc("sourceData",e.basicSource),i.zb(2),i.nc("dAnchor","gantt-in-datatable"),i.zb(3),i.nc("sourceData",e.inTableSource))},directives:[r.a,r.b,o.a,r.c,s.a,p,G],encapsulation:2}),t})();var O=n("tyNb"),I=n("GeQP"),F=n("YZy5"),M=n("zzOM"),P=n("1sFX"),U=n("JG5r");let B=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},imports:[[a.c,F.a,u.f,c.d,M.a,P.a,g.c,U.a,O.g.forChild([{path:"",redirectTo:"demo"},{path:"demo",component:k},{path:"api",component:I.a,data:{api:n("eAA9")}}])]]}),t})()},PcXx:function(t,e,n){"use strict";n.r(e),e.default='<div #ganttContainer class="gantt-container">\n  <div class="header" [style.width]="ganttScaleWidth">\n    <d-gantt-scale [ganttBarContainerElement]="ganttBody"></d-gantt-scale>\n  </div>\n  <div #ganttBody class="body" [style.width]="ganttScaleWidth">\n    <div class="item" *ngFor="let item of list">\n      <d-gantt-bar\n        [startDate]="item?.startDate"\n        [endDate]="item?.endDate"\n        [tipTemplateRef]="tipTemplate"\n        [id]="item?.id"\n        [progressRate]="item?.progressRate"\n        (barMoveStartEvent)="onGanttBarMoveStart($event)"\n        (barMovingEvent)="onGanttBarMoving($event)"\n        (barResizeStartEvent)="onGanttBarResizeStart($event)"\n        (barResizingEvent)="onGanttBarResizing($event)"\n        (barMoveEndEvent)="onGanttBarMove($event)"\n        (barResizeEndEvent)="onGanttBarResize($event)"\n        (barProgressEvent)="onBarProgressEvent($event)"\n      ></d-gantt-bar>\n    </div>\n  </div>\n</div>\n<ng-template #tipTemplate let-ganttInstance="ganttInstance" let-data="data">\n  <div class="title">{{ data?.title }}</div>\n  <div class="content">\n    <div>\u6301\u7eed\u65f6\u95f4\uff1a{{ ganttInstance?.duration }}</div>\n    <div>\u5f53\u524d\u8fdb\u5ea6\uff1a{{ (ganttInstance?.progressRate || 0) + \'%\' }}</div>\n    <div>\u5f00\u59cb\u65f6\u95f4\uff1a{{ ganttInstance?.startDate | i18nDate: \'short\' }}</div>\n    <div>\u7ed3\u675f\u65f6\u95f4\uff1a{{ ganttInstance?.endDate | i18nDate: \'short\' }}</div>\n  </div>\n</ng-template>\n'},V2Mc:function(t,e,n){"use strict";n.r(e),e.default="export interface SourceType {\n  id?: string;\n  title?: string;\n  ganttType?: string;\n  firstName?: string;\n  lastName?: string;\n  gender?: string;\n  detail?: string;\n  $checked?: boolean;\n  $expandConfig?: any;\n  children?: any;\n  startDate?: Date;\n  endDate?: Date;\n  ganttBarPositionOffset?: number;\n  ganttBarWidth?: number;\n  status?: string;\n  progressRate?: number;\n  $isChildTableOpen?: boolean;\n  progressDisabled?: boolean;\n}\n\nexport const basicData = [\n  {\n    id: '1',\n    title: 'title1',\n    startDate: new Date(2020, 4, 5),\n    endDate: new Date(2020, 4, 10),\n    progressRate: 30\n  },\n  {\n    id: '2',\n    title: 'title2',\n    startDate: new Date(2020, 4, 6),\n    endDate: new Date(2020, 4, 9),\n    progressRate: 30\n  },\n  {\n    id: '3',\n    title: 'title3',\n    startDate: new Date(2020, 4, 10),\n    endDate: new Date(2020, 4, 12),\n    progressRate: 30\n  },\n  {\n    id: '4',\n    title: 'title4',\n    startDate: new Date(2020, 4, 7),\n    endDate: new Date(2020, 4, 10),\n    progressRate: 30\n  },\n  {\n    id: '5',\n    title: 'title5',\n    startDate: new Date(2020, 4, 8),\n    endDate: new Date(2020, 4, 12),\n    progressRate: 30\n  }\n];\n\nexport const treeDataSource: SourceType[] = [\n  {\n      id: '1',\n      title: 'table title0',\n      lastName: 'Mark',\n      status: 'done',\n      startDate: new Date(2020, 4, 5),\n      endDate: new Date(2020, 4, 10),\n      ganttType: 'parentProgress',\n      $isChildTableOpen: true,\n      progressRate: 30,\n      progressDisabled: true,\n      children: [\n        {\n            id: '2',\n            title: 'table title01',\n            lastName: 'Mark',\n            status: 'done',\n            startDate: new Date(2020, 4, 5),\n            endDate: new Date(2020, 4, 10),\n            ganttType: 'progress',\n            progressRate: 30,\n            $isChildTableOpen: true\n        }\n      ]\n  },\n  {\n      id: '6',\n      title: 'table title1',\n      lastName: 'Mark',\n      status: 'done',\n      startDate: new Date(2020, 4, 4),\n      endDate: new Date(2020, 4, 8),\n      ganttType: 'progress',\n  },\n  {\n      id: '7',\n      title: 'table title2',\n      lastName: 'Mark',\n      status: 'done',\n      startDate: new Date(2020, 4, 6),\n      endDate: new Date(2020, 4, 9),\n      ganttType: 'progress',\n  },\n  {\n      id: '8',\n      title: 'table title3',\n      lastName: 'Mark',\n      status: 'done',\n      detail: '\u8fd9\u662f\u4e00\u4e2a\u884c\u8be6\u60c5',\n      startDate: new Date(2020, 4, 7),\n      endDate: new Date(2020, 4, 10),\n      ganttType: 'progress',\n  },\n  {\n    id: '9',\n    title: '\u91cc\u7a0b\u7891',\n    ganttType: 'milestone',\n    lastName: 'Mark',\n    status: 'done',\n    startDate: new Date(2020, 4, 10),\n    endDate: new Date(2020, 4, 10),\n  },\n  {\n      id: '10',\n      title: 'table title4',\n      lastName: 'Mark',\n      status: 'done',\n      ganttType: 'progress',\n      startDate: new Date(2020, 5, 1),\n      endDate: new Date(2020, 5, 3),\n  }\n];\n"},Wxmp:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var a=n("fXoL"),i=n("N/fn"),r=n("ofXK"),o=n("GyeE");function s(t,e){if(1&t&&(a.Ub(0,"li",5),a.Nc(1),a.Tb()),2&t){const t=e.$implicit;a.oc("dAnchorLink",t.dAnchorLink),a.zb(1),a.Pc(" ",t.value," ")}}let l=(()=>{class t{constructor(){}ngOnInit(){this.demoDocViewerMain=document.querySelector(".doc-viewer-container .main")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Ib({type:t,selectors:[["d-demo-nav"]],inputs:{navItems:"navItems"},decls:7,vars:2,consts:[[1,"demo-nav"],[3,"container"],[1,"fast-forward"],[1,"step-nav"],["anchorActive","active",3,"dAnchorLink",4,"ngFor","ngForOf"],["anchorActive","active",3,"dAnchorLink"]],template:function(t,e){1&t&&(a.Ub(0,"div",0),a.Ub(1,"d-sticky",1),a.Ub(2,"div"),a.Ub(3,"div",2),a.Nc(4,"\u5feb\u901f\u524d\u5f80"),a.Tb(),a.Ub(5,"ul",3),a.Lc(6,s,2,2,"li",4),a.Tb(),a.Tb(),a.Tb(),a.Tb()),2&t&&(a.zb(1),a.nc("container",e.demoDocViewerMain),a.zb(5),a.nc("ngForOf",e.navItems))},directives:[i.a,r.s,o.d],styles:[".demo-nav[_ngcontent-%COMP%]{width:240px;position:fixed;top:100px;right:0;height:100%;z-index:1}.demo-nav[_ngcontent-%COMP%]   .fast-forward[_ngcontent-%COMP%]{font-family:PingFangSC-Semibold;width:130px;font-size:14px;font-size:var(--devui-font-size-card-title,14px);color:#252b3a;color:var(--devui-text,#252b3a);line-height:24px;font-weight:700;padding-bottom:10px;margin-left:20px;border-bottom:1px solid #dfe1e6;border-bottom:1px solid var(--devui-dividing-line,#dfe1e6)}.demo-nav[_ngcontent-%COMP%]   .step-nav[_ngcontent-%COMP%]{margin-top:10px}.demo-nav[_ngcontent-%COMP%]   .step-nav[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{list-style:none;padding-left:20px;cursor:pointer;height:25px;line-height:25px;font-size:12px;font-size:var(--devui-font-size,12px);color:#252b3a;color:var(--devui-text,#252b3a);position:relative;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.demo-nav[_ngcontent-%COMP%]   .step-nav[_ngcontent-%COMP%] > li.active[_ngcontent-%COMP%]{color:#526ecc;color:var(--devui-link,#526ecc)}"]}),t})()},cnUO:function(t,e,n){"use strict";n.r(e),e.default='<div class="handler">\n  <div class="b-group">\n    <div (click)="goToday()">\u4eca\u5929</div>\n  </div>\n  <div class="b-group">\n    <div class="icon-add" (click)="reduceUnit()"></div>\n    <div class="icon-minus" (click)="increaseUnit()"></div>\n  </div>\n</div>\n<section>\n  <d-data-table\n    #datatable\n    [borderType]="\'borderless\'"\n    [cssClass]="\'devui-talbe-scorll-middle\'"\n    [fixHeader]="true"\n    [dataSource]="basicDataSource"\n    [scrollable]="true"\n    [tableWidthConfig]="tableWidthConfig"\n    minHeight="600px"\n    (tableScrollEvent)="onTableScroll($event)"\n  >\n    <thead dTableHead>\n      <tr dTableRow>\n        <th dHeadCell [fixedLeft]="\'0\'">title</th>\n        <th dHeadCell [fixedLeft]="\'200px\'">name</th>\n        <th\n          dHeadCell\n          [fixedLeft]="\'300px\'"\n          dResizeHandle\n          [containerElement]="resizeHandleContainerElement"\n          (resizeStartEvent)="onResizeStart($event)"\n          (resizingEvent)="onResizing($event)"\n          (resizeEndEvent)="onResized($event)"\n        >\n          status\n        </th>\n        <th dHeadCell>\n          <d-gantt-scale\n            [milestoneList]="milestoneList"\n            [ganttScaleContainerOffsetLeft]="ganttScaleContainerOffsetLeft"\n            [ganttBarContainerElement]="ganttBarContainerElement"\n          ></d-gantt-scale>\n        </th>\n      </tr>\n    </thead>\n    <tbody dTableBody [minHeightStretchRow]="minHeightStretchRow">\n      <ng-template let-rowItem="rowItem" let-rowIndex="rowIndex" let-nestedLayer="nestedLayer" let-nestedIndex="nestedIndex">\n        <tr dTableRow [style.height]="\'40px\'">\n          <td dTableCell [fixedLeft]="\'0\'" [nestedColumn]="true" [rowItem]="rowItem" [nestedLayer]="nestedLayer">\n            <span *ngIf="rowItem.ganttType === \'progress\' || rowItem.ganttType === \'parentProgress\'">{{ rowItem.title }}</span>\n            <span *ngIf="rowItem.ganttType === \'milestone\'" class="devui-gantt-milestone">\n              <span class="icon">\n                <svg\n                  xmlns="http://www.w3.org/2000/svg"\n                  xmlns:xlink="http://www.w3.org/1999/xlink"\n                  width="22px"\n                  height="24px"\n                  viewBox="0 0 22 24"\n                  version="1.1"\n                >\n                  <defs>\n                    <linearGradient x1="50%" y1="6.72700158%" x2="50%" y2="91.2568893%" id="gantt-linearGradient-1">\n                      <stop stop-color="#3DCCA6" offset="0%" />\n                      <stop stop-color="#2AA7AF" offset="100%" />\n                    </linearGradient>\n                    <path\n                      d="M14,1.15470054 L20.3923048,4.84529946 C21.6299092,5.55983064 22.3923048,6.88033872 22.3923048,8.30940108 L22.3923048,15.6905989 C22.3923048,17.1196613 21.6299092,18.4401694 20.3923048,19.1547005 L14,22.8452995 C12.7623957,23.5598306 11.2376043,23.5598306 10,22.8452995 L3.60769515,19.1547005 C2.37009085,18.4401694 1.60769515,17.1196613 1.60769515,15.6905989 L1.60769515,8.30940108 C1.60769515,6.88033872 2.37009085,5.55983064 3.60769515,4.84529946 L10,1.15470054 C11.2376043,0.440169359 12.7623957,0.440169359 14,1.15470054 Z"\n                      id="gantt-path-2"\n                    />\n                    <linearGradient x1="50%" y1="0%" x2="50%" y2="50%" id="gantt-linearGradient-4">\n                      <stop stop-color="#FFFFFF" offset="0%" />\n                      <stop stop-color="#FFFFFF" stop-opacity="0" offset="100%" />\n                    </linearGradient>\n                    <linearGradient x1="50%" y1="0%" x2="51.6276154%" y2="68.3310347%" id="gantt-linearGradient-5">\n                      <stop stop-color="#FFFFFF" offset="0%" />\n                      <stop stop-color="#FFFFFF" stop-opacity="0" offset="100%" />\n                    </linearGradient>\n                    <linearGradient x1="50%" y1="0%" x2="50%" y2="70.5804357%" id="gantt-linearGradient-6">\n                      <stop stop-color="#FFFFFF" offset="0%" />\n                      <stop stop-color="#FFFFFF" stop-opacity="0" offset="100%" />\n                    </linearGradient>\n                    <linearGradient x1="50%" y1="0%" x2="50%" y2="71.0876747%" id="gantt-linearGradient-7">\n                      <stop stop-color="#FFFFFF" offset="0%" />\n                      <stop stop-color="#FFFFFF" stop-opacity="0" offset="100%" />\n                    </linearGradient>\n                    <linearGradient x1="50%" y1="0%" x2="50%" y2="60.3844779%" id="gantt-linearGradient-8">\n                      <stop stop-color="#FFFFFF" offset="0%" />\n                      <stop stop-color="#FFFFFF" stop-opacity="0" offset="100%" />\n                    </linearGradient>\n                    <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="gantt-linearGradient-9">\n                      <stop stop-color="#FFFFFF" stop-opacity="0" offset="0%" />\n                      <stop stop-color="#FFFFFF" offset="100%" />\n                    </linearGradient>\n                    <filter x="-25.0%" y="-75.0%" width="150.0%" height="250.0%" filterUnits="objectBoundingBox" id="gantt-filter-10">\n                      <feGaussianBlur stdDeviation="1" in="SourceGraphic" />\n                    </filter>\n                    <linearGradient x1="-33.9878453%" y1="3.1788779%" x2="67.7654261%" y2="81.2841156%" id="gantt-linearGradient-11">\n                      <stop stop-color="#FF790E" offset="0%" />\n                      <stop stop-color="#FECC55" offset="100%" />\n                    </linearGradient>\n                    <linearGradient x1="71.1217155%" y1="42.8128234%" x2="17.9433277%" y2="-14.3609467%" id="gantt-linearGradient-12">\n                      <stop stop-color="#FFE88E" offset="0%" />\n                      <stop stop-color="#FF790E" offset="100%" />\n                    </linearGradient>\n                  </defs>\n                  <g id="gantt-page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                    <g id="gantt-04fix" transform="translate(-189.000000, -423.000000)">\n                      <g id="gantt-Group-2" transform="translate(40.000000, 417.000000)">\n                        <g id="gant-group-4" transform="translate(148.000000, 6.000000)">\n                          <mask id="gantt-mask-3" fill="white">\n                            <use xlink:href="#gantt-path-2" />\n                          </mask>\n                          <use id="gantt-men" fill="url(#gantt-linearGradient-1)" xlink:href="#gantt-path-2" />\n                          <polygon\n                            fill="url(#gantt-linearGradient-4)"\n                            opacity="0.200000003"\n                            mask="url(#gantt-mask-3)"\n                            points="10 0 14 0 13 13 11 13"\n                          />\n                          <polygon\n                            fill="url(#gantt-linearGradient-5)"\n                            opacity="0.200000003"\n                            mask="url(#gantt-mask-3)"\n                            transform="translate(17.500000, 11.000000) rotate(-270.000000) translate(-17.500000, -11.000000) "\n                            points="14.5 4.5 18.5 4.5 20.5 17.5 19.5 17.5"\n                          />\n                          <polygon\n                            fill="url(#gantt-linearGradient-6)"\n                            opacity="0.200000003"\n                            mask="url(#gantt-mask-3)"\n                            transform="translate(7.000000, 11.000000) scale(-1, 1) rotate(-270.000000) translate(-7.000000, -11.000000) "\n                            points="4 4.5 8 4.5 10 17.5 9 17.5"\n                          />\n                          <polygon\n                            fill="url(#gantt-linearGradient-7)"\n                            opacity="0.200000003"\n                            mask="url(#gantt-mask-3)"\n                            transform="translate(8.110913, 8.110913) rotate(-45.000000) translate(-8.110913, -8.110913) "\n                            points="6.1109127 1.6109127 10.1109127 1.6109127 9.1109127 14.6109127 7.1109127 14.6109127"\n                          />\n                          <polygon\n                            fill="url(#gantt-linearGradient-8)"\n                            opacity="0.200000003"\n                            mask="url(#gantt-mask-3)"\n                            transform="translate(15.889087, 8.110913) rotate(-315.000000) translate(-15.889087, -8.110913) "\n                            points="13.8890873 1.6109127 17.8890873 1.6109127 16.8890873 14.6109127 14.8890873 14.6109127"\n                          />\n                          <ellipse\n                            fill="url(#gantt-linearGradient-9)"\n                            opacity="0.5"\n                            filter="url(#filter-10)"\n                            mask="url(#gantt-mask-3)"\n                            cx="12"\n                            cy="17"\n                            rx="6"\n                            ry="2"\n                          />\n                          <polygon fill="url(#gantt-linearGradient-11)" mask="url(#gantt-mask-3)" points="12 8 18 9 15 11 18 13 11 14" />\n                          <polygon fill="url(#gantt-linearGradient-12)" mask="url(#gantt-mask-3)" points="10 6 14 7 13 13 9 13" />\n                          <polygon fill="#FFE3A0" mask="url(#gantt-mask-3)" points="10 6 11 6 9 17 8 17" />\n                          <polygon fill="#B4832C" mask="url(#gantt-mask-3)" points="13 13 11 14 11.1707479 13" />\n                          <rect fill="#000000" opacity="0.100000001" mask="url(#gantt-mask-3)" x="7" y="17" width="10" height="1" />\n                        </g>\n                      </g>\n                    </g>\n                  </g>\n                </svg>\n              </span>\n              <span>\u91cc\u7a0b\u7891</span>\n            </span>\n          </td>\n          <td dTableCell [fixedLeft]="\'200px\'">{{ rowItem.lastName }}</td>\n          <td\n            dTableCell\n            [fixedLeft]="\'300px\'"\n            dResizeHandle\n            [containerElement]="resizeHandleContainerElement"\n            (resizeStartEvent)="onResizeStart($event)"\n            (resizingEvent)="onResizing($event)"\n            (resizeEndEvent)="onResized($event)"\n          >\n            <div class="reset-position-container">\n              <d-reset-position\n                class="reset-position"\n                [ganttScaleContainerOffsetLeft]="ganttScaleContainerOffsetLeft"\n                [datatableElementRef]="datatable"\n                [startDate]="rowItem?.startDate"\n                [endDate]="rowItem?.endDate"\n                [containerScrollLeft]="tableScrollLeft"\n              >\n              </d-reset-position>\n              {{ rowItem.status }}\n            </div>\n          </td>\n          <td dTableCell>\n            <d-gantt-bar\n              *ngIf="rowItem?.ganttType === \'progress\'"\n              [startDate]="rowItem?.startDate"\n              [endDate]="rowItem?.endDate"\n              [tipTemplateRef]="tipTemplate"\n              [id]="rowItem?.id"\n              [data]="rowItem"\n              [barMoveDisabled]="rowItem?.barMoveDisabled"\n              [barResizeDisabled]="rowItem?.barResizeDisabled"\n              [progressDisabled]="rowItem?.progressDisabled"\n              [progressRate]="rowItem?.progressRate"\n              (barMoveStartEvent)="onGanttBarMoveStart($event)"\n              (barMovingEvent)="onGanttBarMoving($event)"\n              (barResizeStartEvent)="onGanttBarResizeStart($event)"\n              (barResizingEvent)="onGanttBarResizing($event)"\n              (barMoveEndEvent)="onGanttBarMove($event)"\n              (barResizeEndEvent)="onGanttBarResize($event)"\n              (barProgressEvent)="onBarProgressEvent($event)"\n            ></d-gantt-bar>\n            <d-gantt-bar-parent\n              *ngIf="rowItem?.ganttType === \'parentProgress\'"\n              [id]="rowItem?.id"\n              [startDate]="rowItem?.startDate"\n              [endDate]="rowItem?.endDate"\n              [data]="rowItem"\n              [progressRate]="rowItem?.progressRate"\n            >\n            </d-gantt-bar-parent>\n            <d-gantt-milestone *ngIf="rowItem?.ganttType === \'milestone\'" [startDate]="rowItem?.startDate" [title]="rowItem?.title">\n            </d-gantt-milestone>\n          </td>\n        </tr>\n      </ng-template>\n    </tbody>\n  </d-data-table>\n</section>\n\n<ng-template #tipTemplate let-ganttInstance="ganttInstance" let-data="data">\n  <div class="title">{{ data?.title }}</div>\n  <div class="content">\n    <div>\u6301\u7eed\u65f6\u95f4\uff1a{{ ganttInstance?.duration }}</div>\n    <div>\u5f53\u524d\u8fdb\u5ea6\uff1a{{ (ganttInstance?.progressRate || 0) + \'%\' }}</div>\n    <div>\u5f00\u59cb\u65f6\u95f4\uff1a{{ ganttInstance?.startDate | i18nDate: \'short\' }}</div>\n    <div>\u7ed3\u675f\u65f6\u95f4\uff1a{{ ganttInstance?.endDate | i18nDate: \'short\' }}</div>\n  </div>\n</ng-template>\n\n<ng-template #minHeightStretchRow>\n  <tr class="min-height-stretch-row">\n    <td dTableCell [fixedLeft]="\'0\'"></td>\n    <td dTableCell [fixedLeft]="\'200px\'"></td>\n    <td\n      dTableCell\n      [fixedLeft]="\'300px\'"\n      dResizeHandle\n      [containerElement]="resizeHandleContainerElement"\n      (resizeStartEvent)="onResizeStart($event)"\n      (resizingEvent)="onResizing($event)"\n      (resizeEndEvent)="onResized($event)"\n    ></td>\n    <td dTableCell></td>\n  </tr>\n</ng-template>\n'},eAA9:function(t,e){t.exports='<h2 id="\u5f15\u5165">\u5f15\u5165</h2> <p>\u5f53\u524d\u7ec4\u4ef6\u4e3a\u5b9e\u9a8c\u6027\u7ec4\u4ef6\uff0c\u9700\u8981\u6309\u9700\u5f15\u5165\uff0c\u8def\u5f84\u5982\u4e0b\uff1a</p> <pre><code>import { GanttModule } from &#39;ng-devui/gantt&#39;;</code></pre><h3 id="d-gantt-scale-\u53c2\u6570">d-gantt-scale \u53c2\u6570</h3> <table> <thead> <tr> <th align="center">\u53c2\u6570</th> <th align="center">\u7c7b\u578b</th> <th align="center">\u9ed8\u8ba4</th> <th align="left">\u8bf4\u660e</th> <th>\u8df3\u8f6c Demo</th> </tr> </thead> <tbody><tr> <td align="center">milestoneList</td> <td align="center"><code>GanttMilestone[]</code></td> <td align="center">[]</td> <td align="left">\u53ef\u9009\uff0c\u7248\u672c\u91cc\u7a0b\u7891\u5217\u8868</td> <td><a href="/components/gantt/demo#gantt-with-datatable">\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe</a></td> </tr> <tr> <td align="center">ganttScaleContainerOffsetLeft</td> <td align="center"><code>number</code></td> <td align="center">0</td> <td align="left">\u53ef\u9009\uff0c\u7518\u7279\u56fe\u65f6\u95f4\u8f74\u5bb9\u5668\u5de6\u504f\u79fb\u50cf\u7d20</td> <td><a href="/components/gantt/demo#gantt-with-datatable">\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe</a></td> </tr> <tr> <td align="center">ganttBarContainerElement</td> <td align="center"><code>Element</code></td> <td align="center">null</td> <td align="left">\u5fc5\u9009\uff0c\u7518\u7279\u56fe\u65f6\u95f4\u6761\u5bb9\u5668\uff0c\u7528\u4e8e\u663e\u793a\u7518\u7279\u56fe\u6807\u7ebf</td> <td><a href="/components/gantt/demo#gantt-with-datatable">\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe</a></td> </tr> </tbody></table> <h3 id="d-gantt-bar-\u53c2\u6570">d-gantt-bar \u53c2\u6570</h3> <table> <thead> <tr> <th align="center">\u53c2\u6570</th> <th align="center">\u7c7b\u578b</th> <th align="center">\u9ed8\u8ba4</th> <th align="left">\u8bf4\u660e</th> <th>\u8df3\u8f6c Demo</th> </tr> </thead> <tbody><tr> <td align="center">startDate</td> <td align="center"><code>Date</code></td> <td align="center">null</td> <td align="left">\u5fc5\u9009\uff0c\u5f00\u59cb\u65f6\u95f4</td> <td><a href="/components/gantt/demo#gantt-with-datatable">\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe</a></td> </tr> <tr> <td align="center">endDate</td> <td align="center"><code>Date</code></td> <td align="center">null</td> <td align="left">\u5fc5\u9009\uff0c\u7ed3\u675f\u65f6\u95f4</td> <td><a href="/components/gantt/demo#gantt-with-datatable">\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe</a></td> </tr> <tr> <td align="center">id</td> <td align="center"><code>string</code></td> <td align="center">null</td> <td align="left">\u53ef\u9009\uff0c\u652f\u6301\u4f20\u5165 id</td> <td><a href="/components/gantt/demo#gantt-with-datatable">\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe</a></td> </tr> <tr> <td align="center">data</td> <td align="center"><code>object</code></td> <td align="center">null</td> <td align="left">\u53ef\u9009\uff0c\u652f\u6301\u4f20\u5165\u4efb\u610f\u6570\u636e</td> <td><a href="/components/gantt/demo#gantt-with-datatable">\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe</a></td> </tr> <tr> <td align="center">progressRate</td> <td align="center"><code>number</code></td> <td align="center">0</td> <td align="left">\u53ef\u9009\uff0c\u8fdb\u5ea6\uff0c\u4f8b\u5982 30 \u4ee3\u8868 30%\u8fdb\u5ea6</td> <td><a href="/components/gantt/demo#gantt-with-datatable">\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe</a></td> </tr> <tr> <td align="center">tipTemplateRef</td> <td align="center"><code>TemplateRef&lt;any&gt;</code></td> <td align="center">null</td> <td align="left">\u53ef\u9009\uff0c\u81ea\u5b9a\u4e49\u63d0\u793a\u5185\u5bb9\u6a21\u677f</td> <td><a href="/components/gantt/demo#gantt-with-datatable">\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe</a></td> </tr> <tr> <td align="center">barMoveDisabled</td> <td align="center"><code>boolean</code></td> <td align="center">false</td> <td align="left">\u53ef\u9009\uff0c\u662f\u5426\u7981\u6b62 bar \u62d6\u52a8</td> <td><a href="/components/gantt/demo#gantt-with-datatable">\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe</a></td> </tr> <tr> <td align="center">barResizeDisabled</td> <td align="center"><code>boolean</code></td> <td align="center">false</td> <td align="left">\u53ef\u9009\uff0c\u662f\u5426\u7981\u6b62 bar \u8c03\u6574\u8d77\u6b62\u65f6\u95f4</td> <td><a href="/components/gantt/demo#gantt-with-datatable">\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe</a></td> </tr> <tr> <td align="center">progressDisabled</td> <td align="center"><code>boolean</code></td> <td align="center">false</td> <td align="left">\u53ef\u9009\uff0c\u662f\u5426\u7981\u6b62 bar \u8c03\u6574\u8fdb\u5ea6</td> <td><a href="/components/gantt/demo#gantt-with-datatable">\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe</a></td> </tr> </tbody></table> <h3 id="d-gantt-bar-\u4e8b\u4ef6">d-gantt-bar \u4e8b\u4ef6</h3> <table> <thead> <tr> <th align="center">\u4e8b\u4ef6</th> <th align="center">\u7c7b\u578b</th> <th align="center">\u8bf4\u660e</th> <th>\u8df3\u8f6c Demo</th> </tr> </thead> <tbody><tr> <td align="center">barMoveStartEvent</td> <td align="center"><code>EventEmitter&lt;GanttTaskInfo&gt;</code></td> <td align="center">\u5de5\u4f5c\u9879\u65f6\u95f4\u6761\u5f00\u59cb\u62d6\u52a8\u4e8b\u4ef6</td> <td><a href="/components/gantt/demo#gantt-with-datatable">\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe</a></td> </tr> <tr> <td align="center">barMovingEvent</td> <td align="center"><code>EventEmitter&lt;GanttTaskInfo&gt;</code></td> <td align="center">\u5de5\u4f5c\u9879\u65f6\u95f4\u6761\u62d6\u52a8\u4e2d\u4e8b\u4ef6</td> <td><a href="/components/gantt/demo#gantt-with-datatable">\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe</a></td> </tr> <tr> <td align="center">barMoveEndEvent</td> <td align="center"><code>EventEmitter&lt;GanttTaskInfo&gt;</code></td> <td align="center">\u5de5\u4f5c\u9879\u65f6\u95f4\u6761\u62d6\u52a8\u5b8c\u6210\u4e8b\u4ef6</td> <td><a href="/components/gantt/demo#gantt-with-datatable">\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe</a></td> </tr> <tr> <td align="center">barResizeStartEvent</td> <td align="center"><code>EventEmitter&lt;GanttTaskInfo&gt;</code></td> <td align="center">\u5de5\u4f5c\u9879\u65f6\u95f4\u6761\u5bbd\u5ea6\u5f00\u59cb\u8c03\u6574\u4e8b\u4ef6</td> <td><a href="/components/gantt/demo#gantt-with-datatable">\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe</a></td> </tr> <tr> <td align="center">barResizingEvent</td> <td align="center"><code>EventEmitter&lt;GanttTaskInfo&gt;</code></td> <td align="center">\u5de5\u4f5c\u9879\u65f6\u95f4\u6761\u5bbd\u5ea6\u8c03\u6574\u4e2d\u4e8b\u4ef6</td> <td><a href="/components/gantt/demo#gantt-with-datatable">\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe</a></td> </tr> <tr> <td align="center">barResizeEndEvent</td> <td align="center"><code>EventEmitter&lt;GanttTaskInfo&gt;</code></td> <td align="center">\u5de5\u4f5c\u9879\u65f6\u95f4\u6761\u5bbd\u5ea6\u8c03\u6574\u5b8c\u6210\u4e8b\u4ef6</td> <td><a href="/components/gantt/demo#gantt-with-datatable">\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe</a></td> </tr> <tr> <td align="center">barProgressEvent</td> <td align="center"><code>EventEmitter&lt;number&gt;</code></td> <td align="center">\u5de5\u4f5c\u9879\u8fdb\u5ea6\u8c03\u6574\u4e8b\u4ef6</td> <td><a href="/components/gantt/demo#gantt-with-datatable">\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe</a></td> </tr> </tbody></table> <h3 id="d-gantt-milestone-\u53c2\u6570">d-gantt-milestone \u53c2\u6570</h3> <table> <thead> <tr> <th align="center">\u53c2\u6570</th> <th align="center">\u7c7b\u578b</th> <th align="center">\u9ed8\u8ba4</th> <th align="left">\u8bf4\u660e</th> <th>\u8df3\u8f6c Demo</th> </tr> </thead> <tbody><tr> <td align="center">startDate</td> <td align="center"><code>Date</code></td> <td align="center">null</td> <td align="left">\u5fc5\u9009\uff0c\u5f00\u59cb\u65f6\u95f4</td> <td><a href="/components/gantt/demo#gantt-with-datatable">\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe</a></td> </tr> <tr> <td align="center">id</td> <td align="center"><code>string</code></td> <td align="center">null</td> <td align="left">\u53ef\u9009\uff0c\u652f\u6301\u4f20\u5165 id</td> <td><a href="/components/gantt/demo#gantt-with-datatable">\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe</a></td> </tr> <tr> <td align="center">title</td> <td align="center"><code>string</code></td> <td align="center">null</td> <td align="left">\u53ef\u9009\uff0c\u652f\u6301\u4f20\u5165 title\uff0c\u7528\u4e8e\u91cc\u7a0b\u7891\u7c7b\u578b\u7684\u6807\u9898</td> <td><a href="/components/gantt/demo#gantt-with-datatable">\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe</a></td> </tr> </tbody></table> <h3 id="d-gantt-bar-parent-\u53c2\u6570">d-gantt-bar-parent \u53c2\u6570</h3> <table> <thead> <tr> <th align="center">\u53c2\u6570</th> <th align="center">\u7c7b\u578b</th> <th align="center">\u9ed8\u8ba4</th> <th align="left">\u8bf4\u660e</th> <th>\u8df3\u8f6c Demo</th> </tr> </thead> <tbody><tr> <td align="center">startDate</td> <td align="center"><code>Date</code></td> <td align="center">null</td> <td align="left">\u5fc5\u9009\uff0c\u5f00\u59cb\u65f6\u95f4</td> <td><a href="/components/gantt/demo#gantt-with-datatable">\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe</a></td> </tr> <tr> <td align="center">endDate</td> <td align="center"><code>Date</code></td> <td align="center">null</td> <td align="left">\u5fc5\u9009\uff0c\u7ed3\u675f\u65f6\u95f4</td> <td><a href="/components/gantt/demo#gantt-with-datatable">\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe</a></td> </tr> <tr> <td align="center">id</td> <td align="center"><code>string</code></td> <td align="center">null</td> <td align="left">\u53ef\u9009\uff0c\u652f\u6301\u4f20\u5165 id</td> <td><a href="/components/gantt/demo#gantt-with-datatable">\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe</a></td> </tr> <tr> <td align="center">data</td> <td align="center"><code>object</code></td> <td align="center">null</td> <td align="left">\u53ef\u9009\uff0c\u652f\u6301\u4f20\u5165\u4efb\u610f\u6570\u636e</td> <td><a href="/components/gantt/demo#gantt-with-datatable">\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe</a></td> </tr> <tr> <td align="center">progressRate</td> <td align="center"><code>number</code></td> <td align="center">0</td> <td align="left">\u53ef\u9009\uff0c\u8fdb\u5ea6\uff0c\u4f8b\u5982 30 \u4ee3\u8868 30%\u8fdb\u5ea6</td> <td><a href="/components/gantt/demo#gantt-with-datatable">\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe</a></td> </tr> </tbody></table> <h3 id="ganttservice-\u516c\u5171\u65b9\u6cd5">GanttService \u516c\u5171\u65b9\u6cd5</h3> <table> <thead> <tr> <th align="center">\u65b9\u6cd5</th> <th align="center">\u53c2\u6570</th> <th align="center">\u8fd4\u56de\u503c\u7c7b\u578b</th> <th align="center">\u8bf4\u660e</th> <th>\u8df3\u8f6c Demo</th> </tr> </thead> <tbody><tr> <td align="center">setScaleConfig</td> <td align="center"><code>GanttScaleConfig</code></td> <td align="center">void</td> <td align="center">\u914d\u7f6e\u65f6\u95f4\u8f74</td> <td><a href="/components/gantt/demo#gantt-with-datatable">\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe</a></td> </tr> <tr> <td align="center">getDurationWidth</td> <td align="center"><code>startDate: Date, endDate: Date</code></td> <td align="center">number</td> <td align="center">\u83b7\u53d6\u8d77\u6b62\u65f6\u95f4\u5728\u65f6\u95f4\u8f74\u4e0a\u7684\u5bbd\u5ea6</td> <td><a href="/components/gantt/demo#gantt-with-datatable">\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe</a></td> </tr> <tr> <td align="center">getDatePostionOffset</td> <td align="center"><code>date: Date</code></td> <td align="center">number</td> <td align="center">\u83b7\u53d6\u65f6\u95f4\u70b9\u5728\u65f6\u95f4\u8f74\u4e0a\u7684\u5de6\u504f\u79fb\u91cf</td> <td><a href="/components/gantt/demo#gantt-with-datatable">\u4e0edatatable\u7ec4\u4ef6\u7ed3\u5408\u7684\u7518\u7279\u56fe</a></td> </tr> </tbody></table> <h4 id="\u7518\u7279\u56fe\u7c7b\u578b\u5b9a\u4e49">\u7518\u7279\u56fe\u7c7b\u578b\u5b9a\u4e49</h4> <pre><code class="language-javascript">export interface GanttMilestone {\n    date: Date;\n    lable: string;\n}\n\nexport interface GanttTaskInfo {\n    id: string;\n    startDate: Date;\n    endDate: Date;\n    title?: string;\n    progress: string; // \u5f53\u524d\u8fdb\u5ea6\n    duration: string; // \u6301\u7eed\u65f6\u95f4\n    moveOffset?: number; // \u62d6\u52a8\u8ddd\u79bb\n}\n\nexport interface GanttScaleConfig {\n    startDate?: Date;\n    endDate?: Date;\n    unit?: GanttScaleUnit;\n}\n\nexport enum GanttScaleUnit {\n    day = &#39;day&#39;,\n    week = &#39;week&#39;,\n    month = &#39;month&#39;\n}</code></pre> '},"ipY+":function(t,e,n){"use strict";n.r(e),e.default="@import '~ng-devui/styles-var/devui-var.scss';\n\n.handler {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  z-index: 10;\n}\n\n.b-group {\n  margin-right: 5px;\n  display: inline-block;\n  vertical-align: middle;\n\n  div {\n    display: inline-block;\n    padding: 0 8px;\n    height: 32px;\n    min-width: 32px;\n    line-height: 32px;\n    background: $devui-base-bg;\n    box-shadow: 0 2px 10px 0 rgba(41, 48, 64, 0.1);\n    border-radius: 2px;\n    cursor: pointer;\n    text-align: center;\n  }\n}\n\n.devui-gantt-milestone {\n  height: 24px;\n  line-height: 24px;\n\n  & span {\n    display: inline-block;\n    vertical-align: middle;\n  }\n\n  & .icon {\n    width: 22px;\n    height: 24px;\n    margin-right: 5px;\n  }\n}\n\n::ng-deep .devui-gantt-tips {\n  & .title {\n    font-size: $devui-font-size-card-title;\n    color: $devui-text;\n    line-height: 24px;\n    font-weight: bold;\n    margin-bottom: 15px;\n  }\n\n  & .content {\n    font-size: $devui-font-size;\n    color: $devui-text;\n    line-height: 24px;\n  }\n}\n\n.min-height-stretch-row {\n  background: $devui-base-bg !important;\n\n  &:hover {\n    background: $devui-base-bg !important;\n  }\n\n  & td {\n    padding: 0 !important;\n    border: unset !important;\n  }\n}\n\n.reset-position-container {\n  position: relative;\n}\n\n.reset-position {\n  visibility: hidden;\n}\n\ntr:hover {\n  & .reset-position {\n    visibility: visible;\n  }\n}\n\n:host ::ng-deep .resize-handle {\n  display: inline-block;\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  width: 3px;\n  border-right: 3px solid $devui-line;\n  cursor: col-resize;\n}\n"},lFJM:function(t,e,n){"use strict";n.r(e),e.default="import { Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { GanttService } from 'ng-devui/gantt';\n\n@Component({\n  selector: 'd-reset-position',\n  templateUrl: './reset-position.component.html',\n  styleUrls: ['./reset-position.component.scss']\n})\nexport class ResetPositionComponent implements OnInit, OnChanges {\n  @Input() datatableElementRef: any;\n  @Input() ganttScaleContainerOffsetLeft: number;\n  @Input() startDate: Date;\n  @Input() endDate: Date;\n  @Input() containerScrollLeft: number;\n  visible = false;\n  direction: string;\n  position: number;\n  scrollView: HTMLElement;\n  constructor(private ganttService: GanttService) { }\n\n  ngOnInit() {\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes['startDate'] || changes['endDate'] || changes['ganttScaleContainerOffsetLeft'] || changes['containerScrollLeft']) {\n      if (this.startDate && this.endDate && this.ganttScaleContainerOffsetLeft) {\n        this.scrollView = this.datatableElementRef.elementRef.nativeElement.getElementsByClassName('scroll-view')[0];\n        if (this.scrollView) {\n          this.position = this.ganttService.getDatePostionOffset(this.startDate);\n          const endPosition = this.ganttService.getDatePostionOffset(this.endDate);\n          if (this.position + this.ganttScaleContainerOffsetLeft > this.scrollView.scrollLeft + this.scrollView.clientWidth) {\n            this.visible = true;\n            this.direction = 'right';\n            return;\n          }\n          if (endPosition < this.scrollView.scrollLeft) {\n            this.visible = true;\n            this.direction = 'left';\n            return;\n          }\n          this.visible = false;\n        }\n      }\n    }\n  }\n\n  reset() {\n    if (this.scrollView) {\n      this.scrollView.scrollTo(this.position, 0);\n      this.visible = false;\n    }\n  }\n}\n"},nPgX:function(t,e,n){"use strict";n.r(e),e.default="<div\n  *ngIf=\"visible\"\n  class=\"reset-btn\"\n  [ngClass]=\"{ 'icon-arrow-right-o': direction === 'right', 'icon-arrow-left-o': direction === 'left' }\"\n  (click)=\"reset()\"\n></div>\n"},uCxy:function(t,e,n){"use strict";n.r(e),e.default="import { Subscription } from 'rxjs';\nimport { basicData } from './../mock-data';\nimport { Component, OnInit, OnDestroy, ViewChild, AfterViewInit, ElementRef } from '@angular/core';\nimport { GanttService, GanttScaleUnit, GanttTaskInfo } from 'ng-devui/gantt';\n\n@Component({\n  selector: 'd-basic',\n  templateUrl: './basic.component.html',\n  styleUrls: ['./basic.component.scss'],\n  providers: [GanttService]\n})\nexport class BasicComponent implements OnInit, AfterViewInit, OnDestroy {\n  @ViewChild('ganttContainer', { static: true }) ganttContainer: ElementRef;\n  list = basicData;\n  ganttStartDate: Date;\n  ganttEndDate: Date;\n  unit = GanttScaleUnit.day;\n  ganttScaleWidth: string;\n  ganttSacleConfigHandler: Subscription;\n  originOffsetLeft = 0;\n  scrollElement: HTMLElement;\n  constructor(private ganttService: GanttService) { }\n\n  ngOnInit() {\n    const curDate = new Date();\n    this.ganttStartDate = new Date(curDate.getFullYear(), 4, 1);\n    this.ganttEndDate = new Date(curDate.getFullYear(), 10, 15);\n    this.ganttService.setScaleConfig({\n      startDate: this.ganttStartDate,\n      endDate: this.ganttEndDate,\n      unit: this.unit\n    });\n    this.ganttScaleWidth = this.ganttService.getDurationWidth(this.ganttStartDate, this.ganttEndDate) + 'px';\n    this.ganttSacleConfigHandler = this.ganttService.ganttScaleConfigChange.subscribe((config) => {\n      if (config.startDate) {\n        this.ganttStartDate = config.startDate;\n      }\n      if (config.endDate) {\n        this.ganttEndDate = config.endDate;\n      }\n      if (config.startDate || config.endDate) {\n        this.ganttScaleWidth = this.ganttService.getDurationWidth(this.ganttStartDate, this.ganttEndDate) + 'px';\n      }\n    });\n  }\n\n  ngAfterViewInit() {\n    this.scrollElement = this.ganttContainer.nativeElement;\n  }\n\n  onGanttBarMoveStart() {\n    this.originOffsetLeft = this.scrollElement.scrollLeft;\n  }\n\n  onGanttBarMoving(info: GanttTaskInfo) {\n    this.adjustScrollView(info);\n  }\n\n  onGanttBarResizeStart() {\n    this.originOffsetLeft = this.scrollElement.scrollLeft;\n  }\n\n  onGanttBarResizing(info: GanttTaskInfo) {\n    this.adjustScrollView(info);\n  }\n\n  adjustScrollView(info: GanttTaskInfo) {\n    const moveOffset = info.moveOffset ? info.moveOffset : 0;\n    this.scrollElement.scrollTo(this.originOffsetLeft + moveOffset, this.scrollElement.scrollTop);\n  }\n\n  onGanttBarMove(info: GanttTaskInfo) {\n    this.updateData(info);\n  }\n\n  onGanttBarResize(info: GanttTaskInfo) {\n    this.updateData(info);\n  }\n\n  updateData(info: GanttTaskInfo) {\n    const index = this.list.findIndex((data) => {\n      return data.id === info.id;\n    });\n    if (index > -1) {\n      this.list[index].startDate = info.startDate;\n      this.list[index].endDate = info.endDate;\n    }\n  }\n\n  onBarProgressEvent(progress: number) {\n    console.log(progress);\n  }\n\n  ngOnDestroy() {\n    if (this.ganttSacleConfigHandler) {\n      this.ganttSacleConfigHandler.unsubscribe();\n      this.ganttSacleConfigHandler = null;\n    }\n  }\n}\n"}}]);